{% extends 'base.html'%}

{% block title%} Missions {% endblock%}

{% block header%} 
    <div class="page-header">
        <h1 class="display-4">Missions!</h1>
        <div class="pagination">
            <span class="step-links">
                <div class="btn-group">
                {% if page_obj.has_previous %}
            
                    <a class="btn btn-outline-primary" href="?page={{ page_obj.previous_page_number }}">previous</a>
                {% else %}
                    <a class="btn btn-outline-primary disabled" >previous</a>
                {% endif %}
                <span class="current btn btn-primary disabled">
                    Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}.
                </span>
                {% if page_obj.has_next %}
                    <a class="btn btn-outline-primary" href="?page={{ page_obj.next_page_number }}">next</a>
                {% else %}
                    <a class="btn btn-outline-primary disabled" >next</a>
                {% endif %}
                </div>
            </span>
        </div>
    </div>
    <hr>
    <p class="lead">All the missions.</p>
{% endblock%}

{% block content %}
  
    {% if all_missions_list %}
        <table class="table">
            <tr class="bg-secondary text-light ">
                <th>Rank</th><th>Name</th><th>Client</th><th>Country</th>
            </tr>
            {% for mission in all_missions_list %}
                <tr>
                    <td> {{mission.rank}}</td> 
                    <td><a href="{% url 'missions:mission_details' mission.pk%}"> {{mission.name}}</a></td>
                    <td>{{mission.client.name}}  </td>  
                    <td>{{mission.client.country}}</td>
                </tr>
            {% endfor %}
        </table>
    {% else %}
    <p>No missions in database.</p>
    {% endif %}
{% endblock %}